function fetchTypeDetails() {
    const selectedTypeName = document.getElementById('typeSelect').value;

    fetch('/fetch_types')  // Fetch types again to get the details
        .then(response => response.json())
        .then(data => {
            const selectedType = data.find(type => type.name === selectedTypeName);
            if (selectedType) {
                document.getElementById('modalTitle').value = selectedType.title;
                document.getElementById('modalBody').value = selectedType.body;
                document.getElementById('modalTags').value = selectedType.tags;
            } else {
                // Clear fields if no type is selected
                document.getElementById('modalTitle').value = '';
                document.getElementById('modalBody').value = '';
                document.getElementById('modalTags').value = '';
            }
        })
        .catch(error => console.error('Error fetching type details:', error));
}

function assignValues() {
    const title = document.getElementById('modalTitle').value;
    const body = document.getElementById('modalBody').value;
    const tags = document.getElementById('modalTags').value;

    // Prepend PRODUCT_ID to the TITLE
    const newTitle = `${currentRowId} - ${title}`;

    // Assign values to the corresponding inputs
    document.querySelector(`input[name="title-${currentRowId}"]`).value = newTitle;
    document.querySelector(`textarea[name="body-${currentRowId}"]`).value = body;
    document.querySelector(`input[name="tags-${currentRowId}"]`).value = tags;

    closeModal();
}